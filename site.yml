---
- name: Configurar servidor InnovaSys
  hosts: servidores
  become: yes
  vars_files:
    - group_vars/all.yml

  pre_tasks:
    - name: Actualizar cache de paquetes
      apt:
        update_cache: yes
      tags: always

  roles:
    - role: apache
    - role: samba

  post_tasks:
    - name: Mostrar resumen de la configuraciÃ³n
      debug:
        msg:
          - "âœ… Apache configurado en http://{{ ansible_host }}"
          - "âœ… Samba compartido: {{ samba_share_name }} ({{ samba_share_path }})"
          - "ðŸ‘¤ Usuario Samba: {{ samba_user }} / ContraseÃ±a: {{ samba_password }}"
          - "ðŸ‘¥ Grupo: {{ samba_group }}"
